diff -uNr xserver690/xc/lib/X11/IfEvent.c nx-libs/nx-X11/lib/X11/IfEvent.c
--- xserver690/xc/lib/X11/IfEvent.c	2005-05-14 00:53:43.000000000 +0200
+++ nx-libs/nx-X11/lib/X11/IfEvent.c	2015-05-21 22:25:41.302996068 +0200
@@ -71,5 +71,10 @@
 	    if (prev && prev->qserial_num != qe_serial)
 		/* another thread has snatched this event */
 		prev = NULL;
+#ifdef NX_TRANS_SOCKET
+            if (_XGetIOError(dpy)) {
+                return 0;
+            }
+#endif
 	}
 }

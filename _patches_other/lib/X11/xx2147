diff -uNr xserver690/xc/lib/X11/lcFile.c nx-libs/nx-X11/lib/X11/lcFile.c
--- xserver690/xc/lib/X11/lcFile.c	2005-05-14 00:53:44.000000000 +0200
+++ nx-libs/nx-X11/lib/X11/lcFile.c	2015-05-21 22:25:41.334996226 +0200
@@ -269,7 +269,11 @@
 	    if (seteuid(0) != 0) {
 		priv = 0;
 	    } else {
-		seteuid(oldeuid);
+		if (seteuid(oldeuid) == -1) {
+		    /* XXX ouch, coudn't get back to original uid 
+		     what can we do ??? */
+		    _exit(127);
+		}
 		priv = 1;
 	    }
 #endif
